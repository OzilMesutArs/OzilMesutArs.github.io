{"meta":{"title":"OzilMesutArs's blog","subtitle":null,"description":null,"author":"OzilMesutArs","url":"http://OzilMesutArs.github.io","root":"/"},"pages":[{"title":"SQL","date":"2019-03-25T05:31:16.000Z","updated":"2019-03-26T04:37:38.831Z","comments":true,"path":"SQL/index.html","permalink":"http://OzilMesutArs.github.io/SQL/index.html","excerpt":"","text":"![1.png](https://github.com/OzilMesutArs/OzilMesutArs.github.io/tree/master/img/HDFS_Architecture/HDFS_Architecture.png"},{"title":"about","date":"2019-03-25T05:44:25.000Z","updated":"2019-03-25T05:44:25.356Z","comments":true,"path":"about/index.html","permalink":"http://OzilMesutArs.github.io/about/index.html","excerpt":"","text":""}],"posts":[{"title":"HDFS","slug":"sql","date":"2019-03-25T05:23:20.000Z","updated":"2019-03-26T05:07:28.360Z","comments":true,"path":"2019/03/24/sql/","link":"","permalink":"http://OzilMesutArs.github.io/2019/03/24/sql/","excerpt":"","text":"HDFS使用主从架构 12345其中分为三部分NN、SNN、DNNN是主节点，也叫名称节点 SNN在主节点挂了之后起作用，也叫第二名称节点DN是从，也叫数据节点 1注: 其中圆形代表数据块1，菱形代表数据块2 1.1 NameNode1(1) NN代表文件系统的命名空间 1234567(2) 存储内容 a. 文件名称 b. 文件目录结构 c. 文件属性(包括创建时间、权限、副本数) d. blockmap: 文件对应的数据块与数据块分布的datanode节点一一映射关系 注: namenode不会持久化存储这种映射关系 主要靠datanode定期发送blockreport给master说明机器上存储了哪些数据块的副本，master接收信息后定期更新存储关系 12345(3) NameNode主要维护的是文件的目录系统(文件系统树)，以两种文件永久保存在磁盘 &#123; fsimage &lt;==&gt; 命名空间镜像文件, edit &lt;==&gt; 编辑日志 &#125; 1.2 DataNode 123(1) 存储数据块和块的checksum a. 当某一个副本的checksum不对，会复制其他的副本 b. 如果所有副本都错误，会在50070的web界面显示出来 12345(2)与NN通信: a. 每隔3秒向master发送心跳包 b. 每10次发送一个blockreport(3) 主要用途 a. 文件数据块的读写 1.3 SNN1(1)SNN存储的内容: fsimage + editlog 1(2)作用: 定期合并fsimage + editlog为新的fsimage并推送给NN，该文件被称作checkpoint","categories":[{"name":"HDFS","slug":"HDFS","permalink":"http://OzilMesutArs.github.io/categories/HDFS/"}],"tags":[]},{"title":"","slug":"henry","date":"2019-03-25T04:55:03.333Z","updated":"2019-03-25T04:55:03.333Z","comments":true,"path":"2019/03/24/henry/","link":"","permalink":"http://OzilMesutArs.github.io/2019/03/24/henry/","excerpt":"","text":"123public static void main(String[] args)&#123; System.out.println(\"hh\");&#125;","categories":[],"tags":[]}]}